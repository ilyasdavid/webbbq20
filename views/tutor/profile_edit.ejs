<%- include ../templates/adminlte/header-top-nav.ejs %>
<!-- Full Width Column -->
<div class="content-wrapper">
    <div class="container">
        <section class="content-header">
            <h1> Profile Tutor </h1>
            <ol class="breadcrumb">
                <li><a href="/tutor"><i class="fa fa-home"></i> Home</a></li>
                <li class="active"><a href="/tutor/profile/<%= user.id %>">Profile</a></li>
                <li class="active">Edit Profile</li>
            </ol>
        </section>
    
        <!-- Main content -->
        <section class="content">
            <div class="row">
                <!-- left column -->
                <div class="col-md-7">
                    <div class="box box-info">
                        <div class="box-header with-border">
                            <div class="pull-left">
    
                                <strong> Edit Profile </strong>
    
                            </div>
                        </div><!-- /.box-header -->
    
                        <div class="box-body">
                            <!-- form edit tutor -->
                            <form class="form-horizontal" action="/tutor/profile/edit/<%= user.id %>" method="post">
                                <div class="box-body">                                    
                                    <!-- Nama -->
                                    <div class="form-group">
                                        <label for="inputNama" class="col-sm-2 control-label">Nama</label>
    
                                        <div class="col-sm-10">
                                            <input required name="nama" type="text" class="form-control" id="inputNama"
                                                placeholder="Nama" value="<%= tutor.nama %>" />
                                        </div>
                                    </div>
                                    <!-- Username -->
                                    <div class="form-group">
                                        <label for="inputUsername" class="col-sm-2 control-label">Username</label>
                                        <div class="col-sm-10">
                                            <input required name="username" type="text" class="form-control"
                                                id="inputUsername" placeholder="Username"
                                                value="<%= tutor.User.username %>" />
                                        </div>
                                    </div>
                                    <!-- Jenis Kelamin -->
                                    <div class="form-group">
                                        <label for="inputJenisKelamin" class="col-sm-2 control-label">Jenis
                                            Kelamin</label>
    
                                        <div class="col-sm-10">
                                            <select required name="jenisKelamin" class="form-control">
                                                <option value="<%= tutor.jenisKelamin %>">---
                                                    <%= tutor.jenisKelamin %> ---</option>
                                                <option value="Pria">Pria</option>
                                                <option value="Wanita">Wanita</option>
                                            </select>
                                        </div>
                                    </div>
                                    <!-- End Form -->
                                </div>
                                <!-- /.box-body -->
                                <div class="box-footer">
                                    <button type="submit" class="btn btn-primary">
                                        Simpan
                                    </button>
                                </div>
                                <!-- /.box-footer -->
                            </form>
                        </div><!-- /.col md-7 -->
                    </div><!-- /.row -->
                </div><!-- /.box-body -->
                <!-- right column -->
                <div class="col-md-5">
                    <div class="box box-danger">
                        <div class="box-header with-border">
                            <div class="pull-left">
                                <strong> Ubah Password </strong>
                            </div>
                        </div><!-- /.box-header -->
                        <div class="box-body">
                            <form class="form-vertical" action="/tutor/profile/edit-password/<%= user.id %>"
                                method="post">
                                <!-- New Password -->
                                <div class="form-group">
                                    <label for="inputPassword">New Password </label>
                                    <div>
                                        <input type="password" class="form-control" name="password" id="password"
                                            placeholder="Password" required>
                                        <span toggle="#password-field1"
                                            class="fa fa-fw fa-eye field-icon-eye toggle-password1"></span>
                                    </div>
                                </div>
                                <!-- New Password Confirmation -->
                                <div class="form-group">
                                    <label for="inputPassword"> Confirm Password </label>
                                    <div>
                                        <input type="password" class="form-control" name="passwordConfirm"
                                            id="passwordConfirm" placeholder="Confirm Password" required>
                                        <span toggle="#password-field2"
                                            class="fa fa-fw fa-eye field-icon-eye toggle-password2"></span>
                                    </div>
                                </div>
                        </div>
                        <div class="box-footer">
                            <button type="submit" class="btn btn-primary" onclick="return Validate()">
                                Ubah
                            </button>
                        </div>
                        </form>
                    </div>
                </div>
            </div>    
        </section>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.1.1.js" integrity="sha256-16cdPddA6VdVInumRGo6IbivbERE8p7CQR3HzTBuELA="
    crossorigin="anonymous">
    </script>
<!-- /.content-wrapper -->
<%- include ../templates/adminlte/footer.ejs %>
<script type="text/javascript">
    function Validate() {
        let password = document.getElementById("password").value;
        let passwordConfirm = document.getElementById("passwordConfirm").value;
        if (password !== "" && passwordConfirm !== "") {
            if (password !== passwordConfirm) {
                swal({
                    title: "Not Match!",
                    text: "Your Password Confirmation Not Match!",
                    icon: "warning",
                    button: "Oke",
                });
                return false;
            } else {
                console.log('Oke Sama');
                return true;
            }
        }
    }

    $(".toggle-password1").click(function () {
        $(this).toggleClass("fa-eye fa-eye-slash");
        let inputPasswordType = $('#password')
        if (inputPasswordType.attr('type') === "password") {
            inputPasswordType.attr('type', 'text');
        } else {
            inputPasswordType.attr('type', 'password');
        }
    });

    $(".toggle-password2").click(function () {
        $(this).toggleClass("fa-eye fa-eye-slash");
        let inputPasswordConfirmType = $('#passwordConfirm')
        if (inputPasswordConfirmType.attr('type') === "password") {
            inputPasswordConfirmType.attr('type', 'text');
        } else {
            inputPasswordConfirmType.attr('type', 'password');
        }
    });
</script>